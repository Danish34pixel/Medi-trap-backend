{
  "info": {
    "name": "Stockist | Bulk Register Test (1000 Users)",
    "_postman_id": "stockist-bulk-register-2025-10-22",
    "description": "Creates 1000 Stockist users with random data using the Stockist Register API: https://api.medi-trap.com/api/stockist/register",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Register Stockist User",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "if (!pm.globals.has('stockistIndex')) pm.globals.set('stockistIndex', 0);",
              "let index = parseInt(pm.globals.get('stockistIndex'));",
              "const roles = ['Proprietor', 'Pharmacist'];",
              "const bloodGroups = ['A+','A-','B+','B-','O+','O-','AB+','AB-'];",
              "const random = arr => arr[Math.floor(Math.random()*arr.length)];",
              "const randNum = (min,max) => Math.floor(Math.random()*(max-min+1))+min;",
              "pm.environment.set('name', `MediStore_${index+1}`);",
              "pm.environment.set('contactPerson', `Person_${index+1}`);",
              "pm.environment.set('phone', `9${randNum(100000000,999999999)}`);",
              "pm.environment.set('email', `stockist${index+1}@example.com`);",
              "pm.environment.set('password', 'Stockist@123');",
              "pm.environment.set('street', `Street ${index+1}`);",
              "pm.environment.set('city', `City_${randNum(1,500)}`);",
              "pm.environment.set('state', `State_${randNum(1,50)}`);",
              "pm.environment.set('pincode', `${randNum(100000,999999)}`);",
              "pm.environment.set('licenseNumber', `LIC${10000+index}`);",
              "pm.environment.set('licenseExpiry', new Date(Date.now()+randNum(100,1000)*86400000).toISOString());",
              "pm.environment.set('licenseImageUrl', `https://picsum.photos/200?random=${index+1}`);",
              "pm.environment.set('dob', new Date(1970+randNum(0,30), randNum(0,11), randNum(1,28)).toISOString());",
              "pm.environment.set('bloodGroup', random(bloodGroups));",
              "pm.environment.set('profileImageUrl', `https://randomuser.me/api/portraits/men/${(index%90)+1}.jpg`);",
              "pm.environment.set('roleType', random(roles));",
              "pm.environment.set('cntxNumber', `CNTX${randNum(10000,99999)}`);",
              "pm.globals.set('stockistIndex', index+1);"
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "let index = parseInt(pm.globals.get('stockistIndex'));",
              "console.log(`âœ… Created Stockist user #${index}`);",
              "if (index >= 1000) pm.globals.set('stockistIndex', 0);"
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"{{name}}\",\n  \"contactPerson\": \"{{contactPerson}}\",\n  \"phone\": \"{{phone}}\",\n  \"email\": \"{{email}}\",\n  \"password\": \"{{password}}\",\n  \"address\": {\n    \"street\": \"{{street}}\",\n    \"city\": \"{{city}}\",\n    \"state\": \"{{state}}\",\n    \"pincode\": \"{{pincode}}\"\n  },\n  \"licenseNumber\": \"{{licenseNumber}}\",\n  \"licenseExpiry\": \"{{licenseExpiry}}\",\n  \"licenseImageUrl\": \"{{licenseImageUrl}}\",\n  \"dob\": \"{{dob}}\",\n  \"bloodGroup\": \"{{bloodGroup}}\",\n  \"profileImageUrl\": \"{{profileImageUrl}}\",\n  \"roleType\": \"{{roleType}}\",\n  \"cntxNumber\": \"{{cntxNumber}}\",\n  \"approved\": false,\n  \"declined\": false,\n  \"status\": \"processing\"\n}"
        },
        "url": {
          "raw": "https://api.medi-trap.com/api/stockist/register",
          "protocol": "https",
          "host": ["api","medi-trap","com"],
          "path": ["api","stockist","register"]
        }
      }
    }
  ]
}
